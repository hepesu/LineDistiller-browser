import ndarray from 'ndarray';
import ops from 'ndarray-ops';
import rotate from 'image-rotate';
import pngjs from 'pngjs';
import Promise from 'bluebird';

const centerTpl = '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';
const cornerTpl = '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';
const borderTpl = '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';

const maskTpls = [
    // Corner mask
    {
        name: 'leftTopCorner',
        src: cornerTpl,
        angle: 0
    },
    {
        name: 'leftBottomCorner',
        src: cornerTpl,
        angle: Math.PI / 2
    },
    {
        name: 'rightBottomCorner',
        src: cornerTpl,
        angle: 2 * Math.PI / 2
    },
    {
        name: 'rightTopCorner',
        src: cornerTpl,
        angle: 3 * Math.PI / 2
    },
    // Border mask
    {
        name: 'topBorder',
        src: borderTpl,
        angle: 0
    },
    {
        name: 'leftBorder',
        src: borderTpl,
        angle: Math.PI / 2
    },
    {
        name: 'bottomBorder',
        src: borderTpl,
        angle: 2 * Math.PI / 2
    },
    {
        name: 'rightBorder',
        src: borderTpl,
        angle: 3 * Math.PI / 2
    },
    // Center mask
    {
        name: 'center',
        src: centerTpl,
        angle: 0
    }
];

let masks = (async () => {
    let _masks = {};

    await Promise.each(maskTpls, async (maskTpl) => {
        const decodedData = Uint8Array.from(atob(maskTpl.src), c => c.charCodeAt(0));

        const parser = new pngjs.PNG();

        await new Promise((rs, rj) => {
            parser.parse(decodedData, (err, data) => {
                if (data) {
                    rs(data);
                } else {
                    rj(err);
                }
            });
        });

        const angle = maskTpl.angle;
        const mask = ndarray(new Float32Array(parser.data), [128, 128, 4]).pick(null, null, 0);
        const rotatedMask = ndarray(new Float32Array(128 * 128), [128, 128]);

        if (angle !== 0)
            rotate(rotatedMask, mask, angle);
        else
            ops.assign(rotatedMask, mask);

        ops.divseq(rotatedMask, 255.0);

        masks[maskTpl.name] = rotatedMask;
    });

    return _masks;
})();

export default masks;